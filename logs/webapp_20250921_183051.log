2025-09-21 18:30:51 [INFO] webapp - ==== Runtime Env ====
2025-09-21 18:30:51 [INFO] webapp - Python: 3.12.6 (tags/v3.12.6:a4a2d2b, Sep  6 2024, 20:11:23) [MSC v.1940 64 bit (AMD64)]
2025-09-21 18:30:51 [INFO] webapp - OS: Windows 10.0.26100
2025-09-21 18:30:51 [INFO] webapp - torch: 2.5.0+cu121 (cuda=True) | transformers: 4.46.1 | diffusers: 0.32.0
2025-09-21 18:30:51 [INFO] webapp - Device: NVIDIA GeForce RTX 4090 Laptop GPU
2025-09-21 18:30:51 [INFO] webapp - Log file: C:\Users\23154\Downloads\YUME-main-1\YUME-main\logs\webapp_20250921_183051.log
2025-09-21 18:30:51 [INFO] webapp - [LAUNCH] 即将启动：http://127.0.0.1:7665
2025-09-21 18:30:51 [INFO] webapp - [LAUNCH] Log file: C:\Users\23154\Downloads\YUME-main-1\YUME-main\logs\webapp_20250921_183051.log
2025-09-21 18:32:05 [ERROR] webapp - [api_generate_long] failed: Wan 未加载，请先点击“加载所选模型”。
Traceback (most recent call last):
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 877, in api_generate_long
    out_path, final_prompt = long_generate(g)
                             ^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\utils\_contextlib.py", line 116, in decorate_context
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 412, in long_generate
    raise RuntimeError("Wan 未加载，请先点击“加载所选模型”。")
RuntimeError: Wan 未加载，请先点击“加载所选模型”。
2025-09-21 18:32:20 [INFO] webapp - [load_wan] start (BF16, DEVICE_ID=0)
2025-09-21 18:32:20 [INFO] webapp - [device] checking CUDA…
2025-09-21 18:32:20 [INFO] webapp - [device] using cuda:0 - NVIDIA GeForce RTX 4090 Laptop GPU
2025-09-21 18:37:35 [INFO] webapp - [load_wan] OK in 314.64s
2025-09-21 18:55:38 [ERROR] webapp - [api_generate_long] failed: name 'latent_frame_zero' is not defined
Traceback (most recent call last):
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 877, in api_generate_long
    out_path, final_prompt = long_generate(g)
                             ^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\utils\_contextlib.py", line 116, in decorate_context
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 531, in long_generate
    video_tail = tiled_decode_overlap(vae, latent[:,-latent_frame_zero:], n_tiles = 4) #vae.decode([latent[:,-latent_frame_zero:]])[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 374, in tiled_decode_overlap
    image = vae.decode([latents[:,-latent_frame_zero:]])[0] #vae.decode(latents[:, :, start_h:end_h, :] / vae.config.scaling_factor, return_dict=False)[0]
                                   ^^^^^^^^^^^^^^^^^
NameError: name 'latent_frame_zero' is not defined
