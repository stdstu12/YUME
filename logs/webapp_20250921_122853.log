2025-09-21 12:28:53 [INFO] webapp - ==== Runtime Env ====
2025-09-21 12:28:53 [INFO] webapp - Python: 3.12.6 (tags/v3.12.6:a4a2d2b, Sep  6 2024, 20:11:23) [MSC v.1940 64 bit (AMD64)]
2025-09-21 12:28:53 [INFO] webapp - OS: Windows 10.0.26100
2025-09-21 12:28:53 [INFO] webapp - torch: 2.5.0+cu121 (cuda=True) | transformers: 4.46.1 | diffusers: 0.32.0
2025-09-21 12:28:53 [INFO] webapp - Device: NVIDIA GeForce RTX 4090 Laptop GPU
2025-09-21 12:28:53 [INFO] webapp - Log file: C:\Users\23154\Downloads\YUME-main-1\YUME-main\logs\webapp_20250921_122853.log
2025-09-21 12:28:54 [INFO] webapp - [LAUNCH] 即将启动：http://127.0.0.1:7665
2025-09-21 12:28:54 [INFO] webapp - [LAUNCH] Log file: C:\Users\23154\Downloads\YUME-main-1\YUME-main\logs\webapp_20250921_122853.log
2025-09-21 12:29:22 [INFO] webapp - [load_wan] start (BF16, DEVICE_ID=0)
2025-09-21 12:29:22 [INFO] webapp - [device] checking CUDA…
2025-09-21 12:29:22 [INFO] webapp - [device] using cuda:0 - NVIDIA GeForce RTX 4090 Laptop GPU
2025-09-21 12:33:24 [INFO] webapp - [load_wan] OK in 242.08s
2025-09-21 12:33:24 [INFO] webapp - [load_caption_model] start (BF16)
2025-09-21 12:33:39 [INFO] webapp - [load_caption_model] OK in 14.86s
2025-09-21 12:34:21 [INFO] webapp - [load_wan] start (BF16, DEVICE_ID=0)
2025-09-21 12:34:21 [INFO] webapp - [load_wan] already loaded.
2025-09-21 12:34:21 [INFO] webapp - [load_caption_model] start (BF16)
2025-09-21 12:34:21 [INFO] webapp - [load_caption_model] already loaded.
2025-09-21 12:34:30 [ERROR] webapp - [api_generate_long] failed: 首轮生成必须提供 jpg_path（单张图片路径）。若要续帧，请勾选“继续续帧”。
Traceback (most recent call last):
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 813, in api_generate_long
    raise ValueError("首轮生成必须提供 jpg_path（单张图片路径）。若要续帧，请勾选“继续续帧”。")
ValueError: 首轮生成必须提供 jpg_path（单张图片路径）。若要续帧，请勾选“继续续帧”。
2025-09-21 12:43:14 [ERROR] webapp - [api_generate_long] failed: Input type (float) and bias type (struct c10::BFloat16) should be the same
Traceback (most recent call last):
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 815, in api_generate_long
    out_path, final_prompt = long_generate(g)
                             ^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\utils\_contextlib.py", line 116, in decorate_context
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 458, in long_generate
    noise_pred = transformer(latent_model_input, t=tvec, **arg_c)[0]
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\module.py", line 1736, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\module.py", line 1747, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\wan23\modules\model.py", line 619, in forward
    u_2 = self.patch_embedding_2x(convpadd(u1[:,:,1:-1],4))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\module.py", line 1736, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\module.py", line 1747, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\conv.py", line 725, in forward
    return self._conv_forward(input, self.weight, self.bias)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\conv.py", line 720, in _conv_forward
    return F.conv3d(
           ^^^^^^^^^
RuntimeError: Input type (float) and bias type (struct c10::BFloat16) should be the same
2025-09-21 12:51:49 [ERROR] webapp - [api_generate_long] failed: Input type (float) and bias type (struct c10::BFloat16) should be the same
Traceback (most recent call last):
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 815, in api_generate_long
    raise ValueError("首轮生成必须提供 jpg_path（单张图片路径）。若要续帧，请勾选“继续续帧”。")
                        ^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\utils\_contextlib.py", line 116, in decorate_context
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\webapp_single_gpu.py", line 458, in long_generate
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\module.py", line 1736, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\module.py", line 1747, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\wan23\modules\model.py", line 619, in forward
    u_2 = self.patch_embedding_2x(convpadd(u1[:,:,1:-1],4))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\module.py", line 1736, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\module.py", line 1747, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\conv.py", line 725, in forward
    return self._conv_forward(input, self.weight, self.bias)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\23154\Downloads\YUME-main-1\YUME-main\.venv\Lib\site-packages\torch\nn\modules\conv.py", line 720, in _conv_forward
    return F.conv3d(
           ^^^^^^^^^
RuntimeError: Input type (float) and bias type (struct c10::BFloat16) should be the same
